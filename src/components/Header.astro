---
import { SITE_TITLE } from '../consts';
import HeaderLink from './HeaderLink.astro';
const [brandRoot, brandTld] = SITE_TITLE.split('.', 2);
---

<header>
    <nav>
        <h2 class="brand"><a href="/" data-text={`${brandRoot}.${brandTld}`}>{brandRoot}<span class="brand-sep">.</span><span class="brand-dot">{brandTld}</span></a></h2>
		<div class="internal-links">
			<HeaderLink href="/">home</HeaderLink>
			<HeaderLink href="/blog?type=review">reviews</HeaderLink>
			<HeaderLink href="/blog?type=project">projects</HeaderLink>
		</div>
	</nav>
</header>
<style>
    header { margin: 0; padding: 0 1em; background: var(--paper); border-bottom: 1px solid var(--rule); position: relative; }
    /* surface texture */
    header::before { content:""; position:absolute; inset:0; pointer-events:none; opacity:.12; background-image: radial-gradient(rgba(0,0,0,.08) 1px, transparent 1px); background-size: 6px 6px; }
    h2 { margin: 0; font-size: 1.15em; position: relative; display: inline-block; }
    h2 a, h2 a.active { text-decoration: none; color: rgb(var(--black)); position: relative; display: inline-block; }
    .brand .brand-dot, .brand .brand-sep { color: var(--accent); }
    /* per-letter halftone drop shadow masked to text */
    .brand a::after {
        content: attr(data-text);
        position: absolute; left: 0; top: 0;
        transform: translateY(2px);
        color: transparent;
        background-image: radial-gradient(rgba(0,0,0,.12) .8px, transparent .8px);
        background-size: 7px 7px;
        -webkit-background-clip: text; background-clip: text;
        opacity: .45; pointer-events: none;
    }

    nav { display: flex; align-items: center; justify-content: space-between; }
	nav a { padding: 1em 0.5em; color: var(--ink); border-bottom: 2px solid transparent; text-decoration: none; }
	nav a.active { border-bottom-color: var(--accent); }
	.social-links, .social-links a { display: flex; }
	@media (max-width: 720px) { .social-links { display: none; } }
</style>
